# ğŸ“¦ Bulk Lister - ãƒãƒ«ã‚¯å‡ºå“ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚·ã‚¹ãƒ†ãƒ 

å†™çœŸã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ â†’ Claude AIãŒå•†å“èª¬æ˜ãƒ»ä¾¡æ ¼ã‚’è‡ªå‹•ç”Ÿæˆ â†’ ãƒ¡ãƒ«ã‚«ãƒª/ã‚¸ãƒ¢ãƒ†ã‚£ãƒ¼ã«å‡ºå“

## ğŸ—ï¸ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

```
[å†™çœŸã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰] â†’ [Claude Vision API] â†’ [ãƒ¬ãƒ“ãƒ¥ãƒ¼UI] â†’ [å‡ºå“]
                                                           â”œâ†’ ãƒ¡ãƒ«ã‚«ãƒª (ã‚³ãƒ”ãƒš)
                                                           â””â†’ ã‚¸ãƒ¢ãƒ†ã‚£ãƒ¼ (CSV)
```

- **Server**: Hono (Node.js)
- **DB**: SQLite (æ°¸ç¶šãƒœãƒªãƒ¥ãƒ¼ãƒ )
- **AI**: Claude Sonnet (Vision)
- **Deploy**: fly.io (Tokyo ãƒªãƒ¼ã‚¸ãƒ§ãƒ³)

## ğŸš€ ãƒ‡ãƒ—ãƒ­ã‚¤æ‰‹é †

### å‰ææ¡ä»¶
- [flyctl](https://fly.io/docs/flyctl/install/) ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿
- [Anthropic API Key](https://console.anthropic.com/) å–å¾—æ¸ˆã¿
- ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚«ãƒ¼ãƒ‰ç™»éŒ²æ¸ˆã¿ (fly.io)

### GitHub ã‹ã‚‰ãƒ­ãƒ¼ãƒ³ãƒï¼ˆjapanxcollege@gmail.comï¼‰

1. **GitHub ã«ãƒªãƒã‚¸ãƒˆãƒªã‚’ä½œã‚‹**
   - [github.com](https://github.com) ã« **japanxcollege@gmail.com** ã§ã‚µã‚¤ãƒ³ã‚¤ãƒ³
   - ã€ŒNew repositoryã€â†’ åå‰ã¯ `bulk-lister`ï¼ˆä»»æ„ï¼‰â†’ Create repositoryï¼ˆREADME ç­‰ã¯è¿½åŠ ã—ãªã„ï¼‰

2. **ã“ã®ãƒ•ã‚©ãƒ«ãƒ€ã‚’ GitHub ã« push**
   ```bash
   cd "/Users/shuta/Downloads/Bulk Lister v2"
   git remote add origin https://github.com/<ã‚ãªãŸã®ãƒ¦ãƒ¼ã‚¶ãƒ¼å>/bulk-lister.git
   git push -u origin main
   ```
   â€» `<ã‚ãªãŸã®ãƒ¦ãƒ¼ã‚¶ãƒ¼å>` ã¯ japanxcollege ã® GitHub ãƒ¦ãƒ¼ã‚¶ãƒ¼åã«ç½®ãæ›ãˆã€‚åˆå› push ã§ GitHub ã®ãƒ­ã‚°ã‚¤ãƒ³ã‚’æ±‚ã‚ã‚‰ã‚ŒãŸã‚‰ japanxcollege@gmail.com ã§èªè¨¼ã€‚

3. **fly.io ã§ GitHub ã‹ã‚‰ãƒ‡ãƒ—ãƒ­ã‚¤**
   - [fly.io Dashboard](https://fly.io/dashboard) ã‚’é–‹ã
   - ã€ŒSign inã€â†’ **GitHub** ã‚’é¸ã³ã€**japanxcollege@gmail.com** ã® GitHub ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã§ãƒ­ã‚°ã‚¤ãƒ³
   - ã€ŒLaunch appã€â†’ **Deploy from GitHub** ã‚’é¸æŠ
   - ãƒªãƒã‚¸ãƒˆãƒªä¸€è¦§ã‹ã‚‰ `bulk-lister` ã‚’é¸ã³ã€ãƒ–ãƒ©ãƒ³ãƒ `main`ã€ãƒ“ãƒ«ãƒ‰ã¯è‡ªå‹•æ¤œå‡º
   - ã‚¢ãƒ—ãƒªåã‚’ `bulk-lister` ã«ã—ã€ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ **Nrt (Tokyo)** ã‚’é¸æŠã—ã¦ãƒ‡ãƒ—ãƒ­ã‚¤
   - ãƒ‡ãƒ—ãƒ­ã‚¤å¾Œã€**Secrets** ã§ `ANTHROPIC_API_KEY` ã‚’è¨­å®š
   - **Volumes** ã§ `lister_data`ï¼ˆ1GBã€Nrtï¼‰ã‚’ä½œæˆã—ã€ãƒã‚¦ãƒ³ãƒˆå…ˆ `/data` ã‚’è¨­å®šï¼ˆfly.toml ã® `[mounts]` ã¨ä¸€è‡´ã•ã›ã‚‹ï¼‰

4. **CLI ã§æ—¢å­˜ã‚¢ãƒ—ãƒªã«åˆã‚ã›ã‚‹å ´åˆï¼ˆä»»æ„ï¼‰**
   - ã™ã§ã« `fly launch` ã‚„ `./deploy.sh` ã§ `bulk-lister` ã‚’ä½œã£ã¦ã„ã‚‹å ´åˆã¯ã€ã“ã®ãƒªãƒã‚¸ãƒˆãƒªã‚’ clone ã—ãŸã‚ã¨ `fly deploy` ã™ã‚‹ã ã‘ã§ã‚‚æ›´æ–°ã§ãã¾ã™ã€‚

### ã‚³ãƒãƒ³ãƒ‰

```bash
# 1. ãƒªãƒã‚¸ãƒˆãƒªã‚’ã‚¯ãƒ­ãƒ¼ãƒ³
git clone <your-repo>
cd bulk-lister

# 2. ãƒ‡ãƒ—ãƒ­ã‚¤ï¼ˆå¯¾è©±å¼ï¼‰
chmod +x deploy.sh
./deploy.sh

# ã¾ãŸã¯æ‰‹å‹•ã§:
fly launch           # åˆå›ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
fly volumes create lister_data --region nrt --size 1
fly secrets set ANTHROPIC_API_KEY=sk-ant-...
fly deploy
```

### ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™º

```bash
npm install
export ANTHROPIC_API_KEY=sk-ant-...
npm run dev
# â†’ http://localhost:8080
```

### ãƒ‡ãƒ—ãƒ­ã‚¤å¾Œã®çŠ¶æ…‹æŠŠæ¡

**fly.io ã®ç®¡ç†ã¯ã€Œfly.io ã«ãƒ­ã‚°ã‚¤ãƒ³ã—ãŸäººã€ã ã‘ãŒè¡Œãˆã¾ã™ã€‚** ã‚¢ãƒ—ãƒªæœ¬ä½“ï¼ˆBulk Listerï¼‰ã«ã¯ãƒ­ã‚°ã‚¤ãƒ³æ©Ÿèƒ½ã¯ãªãã€URL ã‚’çŸ¥ã£ã¦ã„ã‚‹äººã¯èª°ã§ã‚‚åˆ©ç”¨ã§ãã¾ã™ã€‚

| ã‚„ã‚Šæ–¹ | ã‚³ãƒãƒ³ãƒ‰ / å ´æ‰€ | ç”¨é€” |
|--------|------------------|------|
| **ç¨¼åƒçŠ¶æ³** | `fly status -a bulk-lister` | ãƒã‚·ãƒ³ãŒèµ·å‹•ä¸­ã‹ãƒ»ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ãƒ»ã‚¢ãƒ—ãƒªåã‚’ç¢ºèª |
| **ãƒ­ã‚°** | `fly logs -a bulk-lister` | ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ­ã‚°ï¼ˆã‚¨ãƒ©ãƒ¼ãƒ»ã‚¢ã‚¯ã‚»ã‚¹ç¢ºèªï¼‰ |
| **Web ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰** | [fly.io Dashboard](https://fly.io/dashboard) ã«ãƒ­ã‚°ã‚¤ãƒ³ â†’ ã‚¢ãƒ—ãƒª `bulk-lister` ã‚’é¸æŠ | ã‚°ãƒ©ãƒ•ãƒ»ãƒ¡ãƒˆãƒªã‚¯ã‚¹ãƒ»ãƒ­ã‚°ãƒ»ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆãƒ»ã‚¹ã‚±ãƒ¼ãƒ«è¨­å®šã‚’ãƒ–ãƒ©ã‚¦ã‚¶ã§ç¢ºèª |
| **åœæ­¢** | `fly machine stop -a bulk-lister` | ãƒã‚·ãƒ³ã‚’æ­¢ã‚ã‚‹ï¼ˆèª²é‡‘æŠ‘æ­¢ï¼‰ |
| **å†é–‹** | `fly machine start -a bulk-lister` ã¾ãŸã¯ `fly apps restart bulk-lister` | åœæ­¢ã—ãŸãƒã‚·ãƒ³ã‚’å†åº¦èµ·å‹• |

### ç®¡ç†ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®ä½œæˆï¼ˆfly.ioï¼‰

ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ»çŠ¶æ…‹ç¢ºèªãƒ»åœæ­¢ãƒ»å†é–‹ã‚’è¡Œã†ã€Œç®¡ç†è€…ã€ã«ãªã‚‹ã«ã¯ã€**fly.io ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ**ã‚’ 1 ã¤ä½œã‚Šã¾ã™ã€‚

1. **ã‚µã‚¤ãƒ³ã‚¢ãƒƒãƒ—**
   - [https://fly.io/app/sign-up](https://fly.io/app/sign-up) ã§ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ or GitHub ã§ç™»éŒ²
   - ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚«ãƒ¼ãƒ‰ã‚’ç™»éŒ²ï¼ˆç„¡æ–™æ å†…ã§ã‚‚å¿…é ˆï¼‰

2. **CLI ã‹ã‚‰ãƒ­ã‚°ã‚¤ãƒ³**
   ```bash
   curl -L https://fly.io/install.sh | sh   # æœªå°å…¥ãªã‚‰
   fly auth login
   ```
   ãƒ–ãƒ©ã‚¦ã‚¶ãŒé–‹ãã®ã§ã€fly.io ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã§ãƒ­ã‚°ã‚¤ãƒ³ã™ã‚‹ã€‚

3. **èª°ãŒã€Œç®¡ç†è€…ã€ã‹**
   - æœ€åˆã« `fly apps create bulk-lister` ã‚„ `./deploy.sh` ã‚’å®Ÿè¡Œã—ãŸäºº = ãã®ã‚¢ãƒ—ãƒªã®ã‚ªãƒ¼ãƒŠãƒ¼ï¼ˆç®¡ç†è€…ï¼‰
   - ãƒãƒ¼ãƒ ã§ç®¡ç†è€…ã‚’å¢—ã‚„ã—ãŸã„å ´åˆã¯ã€fly.io ã® [Organizations](https://fly.io/dashboard) ã§ Organization ã‚’ä½œæˆã—ã€ãƒ¡ãƒ³ãƒãƒ¼ã‚’è¿½åŠ ã€‚ãã® Org ã«ã‚¢ãƒ—ãƒªã‚’ä½œã‚Šç›´ã™ã‹ã€æ—¢å­˜ã‚¢ãƒ—ãƒªã‚’ç§»ã™å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

4. **åˆ©ç”¨è€…ï¼ˆãƒãƒ¼ãƒ ã®ã‚¹ãƒãƒ›ï¼‰**
   - ã‚¢ã‚«ã‚¦ãƒ³ãƒˆä¸è¦ã€‚**URL `https://bulk-lister.fly.dev` ã‚’å…±æœ‰ã™ã‚‹ã ã‘**ã§ã€ãƒ–ãƒ©ã‚¦ã‚¶ã‹ã‚‰åˆ©ç”¨ã§ãã¾ã™ã€‚Bulk Lister ã‚¢ãƒ—ãƒªå´ã®ãƒ­ã‚°ã‚¤ãƒ³ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚

## ğŸ“± ä½¿ã„æ–¹

1. **å†™çœŸã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰**: ãƒ–ãƒ©ã‚¦ã‚¶ã§ãƒ‰ãƒ©ãƒƒã‚°ï¼†ãƒ‰ãƒ­ãƒƒãƒ—ï¼ˆè¤‡æ•°å¯ï¼‰
2. **AIè§£æ**: ã€ŒğŸ¤– å…¨ã¦è§£æã€ãƒœã‚¿ãƒ³ã§ä¸€æ‹¬å‡¦ç†
3. **ãƒ¬ãƒ“ãƒ¥ãƒ¼**: ç”Ÿæˆã•ã‚ŒãŸèª¬æ˜æ–‡ã‚’ç¢ºèªãƒ»ç·¨é›†
4. **å‡ºå“**:
   - ãƒ¡ãƒ«ã‚«ãƒª â†’ ã€ŒğŸ“‹ ãƒ¡ãƒ«ã‚«ãƒªç”¨ã‚³ãƒ”ãƒ¼ã€â†’ ã‚¢ãƒ—ãƒªã§è²¼ã‚Šä»˜ã‘
   - ã‚¸ãƒ¢ãƒ†ã‚£ãƒ¼ â†’ ã€ŒğŸ“¥ CSVå‡ºåŠ›ã€â†’ æ‰‹å‹•æŠ•ç¨¿ or è‡ªå‹•åŒ–

## ğŸ’° ã‚³ã‚¹ãƒˆç›®å®‰ï¼ˆ1æ—¥åˆ©ç”¨ï¼‰

| é …ç›® | è²»ç”¨ |
|------|------|
| fly.io (shared-cpu, 2-3æ™‚é–“) | $0 (å…é™¤ç¯„å›²å†…) |
| Claude API (50ã‚¢ã‚¤ãƒ†ãƒ ) | ~$0.50 |
| **åˆè¨ˆ** | **~Â¥75** |

## ğŸ“ ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ

```
bulk-lister/
â”œâ”€â”€ fly.toml          # fly.ioè¨­å®š
â”œâ”€â”€ Dockerfile        # ã‚³ãƒ³ãƒ†ãƒŠå®šç¾©
â”œâ”€â”€ deploy.sh         # ãƒ‡ãƒ—ãƒ­ã‚¤ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”œâ”€â”€ package.json
â””â”€â”€ src/
    â”œâ”€â”€ index.js          # ã‚¨ãƒ³ãƒˆãƒªãƒã‚¤ãƒ³ãƒˆ
    â”œâ”€â”€ routes/
    â”‚   â””â”€â”€ api.js        # REST API
    â”œâ”€â”€ services/
    â”‚   â”œâ”€â”€ db.js         # SQLite
    â”‚   â””â”€â”€ ai.js         # Claude Vision
    â””â”€â”€ public/
        â””â”€â”€ index.html    # ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ SPA
```

## ğŸ”Œ API ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ

| Method | Path | èª¬æ˜ |
|--------|------|------|
| POST | `/api/upload` | å†™çœŸã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ (multipart) |
| POST | `/api/analyze/:id` | å˜ä½“AIè§£æ |
| POST | `/api/analyze-all` | ä¸€æ‹¬AIè§£æ |
| GET | `/api/items` | ã‚¢ã‚¤ãƒ†ãƒ ä¸€è¦§ |
| PUT | `/api/items/:id` | ã‚¢ã‚¤ãƒ†ãƒ ç·¨é›† |
| DELETE | `/api/items/:id` | ã‚¢ã‚¤ãƒ†ãƒ å‰Šé™¤ |
| GET | `/api/export/jimoty-csv` | ã‚¸ãƒ¢ãƒ†ã‚£ãƒ¼CSVå‡ºåŠ› |

---

Built for Spiral Building cleanup day ğŸ¢
